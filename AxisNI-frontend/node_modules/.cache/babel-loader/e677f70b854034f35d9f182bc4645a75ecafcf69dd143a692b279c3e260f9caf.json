{"ast":null,"code":"var _jsxFileName = \"C:\\\\Denis_Dev\\\\AxisNI\\\\AxisNI-frontend\\\\src\\\\components\\\\ChartCreator.jsx\",\n  _s = $RefreshSig$();\n// frontend-react/src/components/ChartCreator.jsx\nimport React, { useState } from \"react\";\nimport Highcharts from \"highcharts\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport drilldown from \"highcharts/modules/drilldown\";\nimport { saveChart } from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndrilldown(Highcharts); // Attach module\n\nconst chartTypes = [\"column\", \"line\", \"pie\", \"bar\", \"area\", \"scatter\"];\nexport default function ChartCreator({\n  data\n}) {\n  _s();\n  const [chartType, setChartType] = useState(\"column\");\n  const [chartName, setChartName] = useState(\"My Chart\");\n  const [options, setOptions] = useState(null);\n  const [saveStatus, setSaveStatus] = useState(null);\n  const buildOptions = () => {\n    if (!data || data.length === 0) return;\n    const categories = data.map(row => Object.values(row)[0]);\n    const values = data.map(row => Number(Object.values(row)[1]) || 0);\n    setOptions({\n      chart: {\n        type: chartType\n      },\n      title: {\n        text: chartName\n      },\n      xAxis: {\n        categories\n      },\n      series: [{\n        name: \"Data\",\n        data: values\n      }],\n      drilldown: {\n        series: []\n      }\n    });\n  };\n  const handleSave = async () => {\n    if (!options) return;\n    try {\n      setSaveStatus(\"Saving...\");\n      const res = await saveChart(chartName, JSON.stringify(options));\n      setSaveStatus(\"Saved with id: \" + res.data.id);\n    } catch {\n      setSaveStatus(\"Save failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: 40\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Create Chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: chartName,\n      onChange: e => setChartName(e.target.value),\n      placeholder: \"Chart name\",\n      style: {\n        marginRight: 10\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: chartType,\n      onChange: e => setChartType(e.target.value),\n      style: {\n        marginRight: 10\n      },\n      children: chartTypes.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: t,\n        children: t\n      }, t, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: buildOptions,\n      disabled: !data,\n      children: \"Build Chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSave,\n      disabled: !options,\n      children: \"Save Chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), saveStatus && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: saveStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 22\n    }, this), options && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: /*#__PURE__*/_jsxDEV(HighchartsReact, {\n        highcharts: Highcharts,\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(ChartCreator, \"2FdS2r7vF6yQGfYknhakmxtTtCk=\");\n_c = ChartCreator;\nvar _c;\n$RefreshReg$(_c, \"ChartCreator\");","map":{"version":3,"names":["React","useState","Highcharts","HighchartsReact","drilldown","saveChart","jsxDEV","_jsxDEV","chartTypes","ChartCreator","data","_s","chartType","setChartType","chartName","setChartName","options","setOptions","saveStatus","setSaveStatus","buildOptions","length","categories","map","row","Object","values","Number","chart","type","title","text","xAxis","series","name","handleSave","res","JSON","stringify","id","style","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","marginRight","t","onClick","disabled","highcharts","_c","$RefreshReg$"],"sources":["C:/Denis_Dev/AxisNI/AxisNI-frontend/src/components/ChartCreator.jsx"],"sourcesContent":["// frontend-react/src/components/ChartCreator.jsx\r\nimport React, { useState } from \"react\";\r\nimport Highcharts from \"highcharts\";\r\nimport HighchartsReact from \"highcharts-react-official\";\r\nimport drilldown from \"highcharts/modules/drilldown\";\r\nimport { saveChart } from \"../services/api\";\r\n\r\ndrilldown(Highcharts); // Attach module\r\n\r\nconst chartTypes = [\"column\", \"line\", \"pie\", \"bar\", \"area\", \"scatter\"];\r\n\r\nexport default function ChartCreator({ data }) {\r\n  const [chartType, setChartType] = useState(\"column\");\r\n  const [chartName, setChartName] = useState(\"My Chart\");\r\n  const [options, setOptions] = useState(null);\r\n  const [saveStatus, setSaveStatus] = useState(null);\r\n\r\n  const buildOptions = () => {\r\n    if (!data || data.length === 0) return;\r\n    const categories = data.map((row) => Object.values(row)[0]);\r\n    const values = data.map((row) => Number(Object.values(row)[1]) || 0);\r\n\r\n    setOptions({\r\n      chart: { type: chartType },\r\n      title: { text: chartName },\r\n      xAxis: { categories },\r\n      series: [{ name: \"Data\", data: values }],\r\n      drilldown: { series: [] },\r\n    });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!options) return;\r\n    try {\r\n      setSaveStatus(\"Saving...\");\r\n      const res = await saveChart(chartName, JSON.stringify(options));\r\n      setSaveStatus(\"Saved with id: \" + res.data.id);\r\n    } catch {\r\n      setSaveStatus(\"Save failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: 40 }}>\r\n      <h3>Create Chart</h3>\r\n      <input\r\n        type=\"text\"\r\n        value={chartName}\r\n        onChange={(e) => setChartName(e.target.value)}\r\n        placeholder=\"Chart name\"\r\n        style={{ marginRight: 10 }}\r\n      />\r\n      <select\r\n        value={chartType}\r\n        onChange={(e) => setChartType(e.target.value)}\r\n        style={{ marginRight: 10 }}\r\n      >\r\n        {chartTypes.map((t) => (\r\n          <option key={t} value={t}>\r\n            {t}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      <button onClick={buildOptions} disabled={!data}>\r\n        Build Chart\r\n      </button>\r\n      <button onClick={handleSave} disabled={!options}>\r\n        Save Chart\r\n      </button>\r\n      {saveStatus && <p>{saveStatus}</p>}\r\n      {options && (\r\n        <div style={{ marginTop: 20 }}>\r\n          <HighchartsReact highcharts={Highcharts} options={options} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}