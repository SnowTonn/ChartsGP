{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import maplibregl from\"maplibre-gl\";import Papa from\"papaparse\";import\"maplibre-gl/dist/maplibre-gl.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SchoolsMap(){const mapContainer=useRef(null);const map=useRef(null);const[schools,setSchools]=useState([]);const[filterType,setFilterType]=useState(\"All\");const[filterCity,setFilterCity]=useState(\"All\");const[searchName,setSearchName]=useState(\"\");const[pupilsRange,setPupilsRange]=useState([0,2000]);const[grade5Range,setGrade5Range]=useState([30,100]);const[rankRange,setRankRange]=useState([1,100]);// <-- Rank filter\nconst parseCoordinate=coord=>{if(!coord)return null;let value=parseFloat(coord);if(coord.includes(\"S\")||coord.includes(\"W\"))value*=-1;return value;};useEffect(()=>{Papa.parse(\"/data/DataSchools10.csv\",{download:true,header:true,complete:results=>{const cleaned=results.data.map(row=>{const lat=parseCoordinate(row[\"Latitude\"]);const lng=parseCoordinate(row[\"Longitude\"]);const progress=parseFloat(row[\"Progress 8 Score\"]);const pupils=parseInt(row[\"Pupils KS4\"]);const rank=parseInt(row[\"Rank\"]);// <-- Parse Rank\nif(!lat||!lng)return null;return{rank,name:row[\"School Name\"],type:row[\"Type\"],city:row[\"City\"],address:row[\"Address\"],pupilsKS4:pupils,pupilsMeasured:row[\"Pupils Measured\"],progress8Score:progress,progress8Description:row[\"Progress 8 Description\"],enteringEBacc:row[\"Entering EBacc\"],stayingInEducation:row[\"Staying in Education/Employment\"],grade5Plus:row[\"Grade 5+ English & Maths (%)\"],attainment8:row[\"Attainment 8\"],ebaccScore:row[\"EBacc Avg Point Score\"],lat,lng};}).filter(Boolean);setSchools(cleaned);// Set default rankRange max based on data\nconst maxRank=Math.max(...cleaned.map(s=>s.rank));setRankRange([1,maxRank]);}});},[]);const uniqueCities=[...new Set(schools.map(s=>s.city).filter(Boolean))];const maxRank=Math.max(...schools.map(s=>s.rank),100);const filteredSchools=schools.filter(s=>{return(filterType===\"All\"||s.type===filterType)&&(filterCity===\"All\"||s.city===filterCity)&&s.name.toLowerCase().includes(searchName.toLowerCase())&&parseFloat(s.grade5Plus)>=grade5Range[0]&&parseFloat(s.grade5Plus)<=grade5Range[1]&&s.pupilsKS4>=pupilsRange[0]&&s.pupilsKS4<=pupilsRange[1]&&s.rank>=rankRange[0]&&s.rank<=rankRange[1];});useEffect(()=>{if(map.current)return;map.current=new maplibregl.Map({container:mapContainer.current,style:{version:8,sources:{\"esri-satellite\":{type:\"raster\",tiles:[\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"],tileSize:256},\"esri-labels\":{type:\"raster\",tiles:[\"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}\"],tileSize:256}},layers:[{id:\"satellite\",type:\"raster\",source:\"esri-satellite\",minzoom:0,maxzoom:19},{id:\"labels\",type:\"raster\",source:\"esri-labels\",minzoom:0,maxzoom:19}]},center:[-1,52.5],zoom:6});},[]);useEffect(()=>{if(!map.current||!filteredSchools.length)return;if(map.current.markers){map.current.markers.forEach(m=>m.remove());}map.current.markers=[];filteredSchools.forEach(school=>{const popup=new maplibregl.Popup({offset:25}).setHTML(\"<strong>\".concat(school.name,\"</strong><br/>\\n         <b>Rank:</b> \").concat(school.rank,\"<br/>\\n         <b>Type:</b> \").concat(school.type,\"<br/>\\n         <b>City:</b> \").concat(school.city,\"<br/>\\n         <b>Address:</b> \").concat(school.address,\"<br/>\\n         <b>Pupils KS4:</b> \").concat(school.pupilsKS4,\"<br/>\\n         <b>Pupils Measured:</b> \").concat(school.pupilsMeasured,\"<br/>\\n         <b>Progress 8 Score:</b> \").concat(school.progress8Score,\" (\").concat(school.progress8Description,\")<br/>\\n         <b>Entering EBacc:</b> \").concat(school.enteringEBacc,\"<br/>\\n         <b>Staying in Education:</b> \").concat(school.stayingInEducation,\"<br/>\\n         <b>Grade 5+ English & Maths:</b> \").concat(school.grade5Plus,\"<br/>\\n         <b>Attainment 8:</b> \").concat(school.attainment8,\"<br/>\\n         <b>EBacc Avg Point Score:</b> \").concat(school.ebaccScore));const marker=new maplibregl.Marker({color:\"#d33\"}).setLngLat([school.lng,school.lat]).setPopup(popup).addTo(map.current);map.current.markers.push(marker);});},[filteredSchools]);return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:\"1100px\",margin:\"auto\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"UK Schools Map\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",gap:\"1rem\",marginBottom:\"1rem\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{value:filterType,onChange:e=>setFilterType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Academy\",children:\"Academy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Independent\",children:\"Independent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"City:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{value:filterCity,onChange:e=>setFilterCity(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All\"}),uniqueCities.map(city=>/*#__PURE__*/_jsx(\"option\",{value:city,children:city},city))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"School Name:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchName,onChange:e=>setSearchName(e.target.value),placeholder:\"Search...\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Grade 5+ English & Maths (%):\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"30\",max:\"100\",step:\"10\",value:grade5Range[1],onChange:e=>setGrade5Range([30,parseInt(e.target.value)])}),/*#__PURE__*/_jsxs(\"div\",{children:[grade5Range[0],\"% to \",grade5Range[1],\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pupils KS4 Max:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:\"2000\",step:\"10\",value:pupilsRange[1],onChange:e=>setPupilsRange([0,parseInt(e.target.value)])}),/*#__PURE__*/_jsxs(\"div\",{children:[pupilsRange[0],\" to \",pupilsRange[1]]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Rank Range:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,max:maxRank,value:rankRange[0],onChange:e=>{const val=parseInt(e.target.value)||1;if(val<=rankRange[1])setRankRange([val,rankRange[1]]);},style:{width:\"60px\",marginRight:\"10px\"}}),\"to\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,max:maxRank,value:rankRange[1],onChange:e=>{const val=parseInt(e.target.value)||1;if(val>=rankRange[0])setRankRange([rankRange[0],val]);},style:{width:\"60px\",marginLeft:\"10px\"}})]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:filteredSchools.length}),\" schools displayed\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:filteredSchools.reduce((total,school)=>total+(school.pupilsKS4||0),0)}),\" \",\"Pupils in the schools displayed\"]}),/*#__PURE__*/_jsx(\"div\",{ref:mapContainer,style:{height:\"600px\",width:\"100%\",borderRadius:\"8px\"}})]});}","map":{"version":3,"names":["React","useEffect","useRef","useState","maplibregl","Papa","jsx","_jsx","jsxs","_jsxs","SchoolsMap","mapContainer","map","schools","setSchools","filterType","setFilterType","filterCity","setFilterCity","searchName","setSearchName","pupilsRange","setPupilsRange","grade5Range","setGrade5Range","rankRange","setRankRange","parseCoordinate","coord","value","parseFloat","includes","parse","download","header","complete","results","cleaned","data","row","lat","lng","progress","pupils","parseInt","rank","name","type","city","address","pupilsKS4","pupilsMeasured","progress8Score","progress8Description","enteringEBacc","stayingInEducation","grade5Plus","attainment8","ebaccScore","filter","Boolean","maxRank","Math","max","s","uniqueCities","Set","filteredSchools","toLowerCase","current","Map","container","style","version","sources","tiles","tileSize","layers","id","source","minzoom","maxzoom","center","zoom","length","markers","forEach","m","remove","school","popup","Popup","offset","setHTML","concat","marker","Marker","color","setLngLat","setPopup","addTo","push","maxWidth","margin","children","display","flexWrap","gap","marginBottom","onChange","e","target","placeholder","min","step","val","width","marginRight","marginLeft","reduce","total","ref","height","borderRadius"],"sources":["C:/Denis_Dev/AxisNI/AxisNI-frontend/src/components/SchoolsMap.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport maplibregl from \"maplibre-gl\";\r\nimport Papa from \"papaparse\";\r\nimport \"maplibre-gl/dist/maplibre-gl.css\";\r\n\r\nexport default function SchoolsMap() {\r\n  const mapContainer = useRef(null);\r\n  const map = useRef(null);\r\n  const [schools, setSchools] = useState([]);\r\n  const [filterType, setFilterType] = useState(\"All\");\r\n  const [filterCity, setFilterCity] = useState(\"All\");\r\n  const [searchName, setSearchName] = useState(\"\");\r\n  const [pupilsRange, setPupilsRange] = useState([0, 2000]);\r\n  const [grade5Range, setGrade5Range] = useState([30, 100]);\r\n  const [rankRange, setRankRange] = useState([1, 100]); // <-- Rank filter\r\n\r\n  const parseCoordinate = (coord) => {\r\n    if (!coord) return null;\r\n    let value = parseFloat(coord);\r\n    if (coord.includes(\"S\") || coord.includes(\"W\")) value *= -1;\r\n    return value;\r\n  };\r\n\r\n  useEffect(() => {\r\n    Papa.parse(\"/data/DataSchools10.csv\", {\r\n      download: true,\r\n      header: true,\r\n      complete: (results) => {\r\n        const cleaned = results.data\r\n          .map((row) => {\r\n            const lat = parseCoordinate(row[\"Latitude\"]);\r\n            const lng = parseCoordinate(row[\"Longitude\"]);\r\n            const progress = parseFloat(row[\"Progress 8 Score\"]);\r\n            const pupils = parseInt(row[\"Pupils KS4\"]);\r\n            const rank = parseInt(row[\"Rank\"]); // <-- Parse Rank\r\n\r\n            if (!lat || !lng) return null;\r\n            return {\r\n              rank,\r\n              name: row[\"School Name\"],\r\n              type: row[\"Type\"],\r\n              city: row[\"City\"],\r\n              address: row[\"Address\"],\r\n              pupilsKS4: pupils,\r\n              pupilsMeasured: row[\"Pupils Measured\"],\r\n              progress8Score: progress,\r\n              progress8Description: row[\"Progress 8 Description\"],\r\n              enteringEBacc: row[\"Entering EBacc\"],\r\n              stayingInEducation: row[\"Staying in Education/Employment\"],\r\n              grade5Plus: row[\"Grade 5+ English & Maths (%)\"],\r\n              attainment8: row[\"Attainment 8\"],\r\n              ebaccScore: row[\"EBacc Avg Point Score\"],\r\n              lat,\r\n              lng,\r\n            };\r\n          })\r\n          .filter(Boolean);\r\n        setSchools(cleaned);\r\n\r\n        // Set default rankRange max based on data\r\n        const maxRank = Math.max(...cleaned.map(s => s.rank));\r\n        setRankRange([1, maxRank]);\r\n      },\r\n    });\r\n  }, []);\r\n\r\n  const uniqueCities = [...new Set(schools.map((s) => s.city).filter(Boolean))];\r\n  const maxRank = Math.max(...schools.map(s => s.rank), 100);\r\n\r\n  const filteredSchools = schools.filter((s) => {\r\n    return (\r\n      (filterType === \"All\" || s.type === filterType) &&\r\n      (filterCity === \"All\" || s.city === filterCity) &&\r\n      s.name.toLowerCase().includes(searchName.toLowerCase()) &&\r\n      parseFloat(s.grade5Plus) >= grade5Range[0] &&\r\n      parseFloat(s.grade5Plus) <= grade5Range[1] &&\r\n      s.pupilsKS4 >= pupilsRange[0] &&\r\n      s.pupilsKS4 <= pupilsRange[1] &&\r\n      s.rank >= rankRange[0] &&\r\n      s.rank <= rankRange[1]\r\n    );\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (map.current) return;\r\n\r\n    map.current = new maplibregl.Map({\r\n      container: mapContainer.current,\r\n      style: {\r\n        version: 8,\r\n        sources: {\r\n          \"esri-satellite\": {\r\n            type: \"raster\",\r\n            tiles: [\r\n              \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\r\n            ],\r\n            tileSize: 256,\r\n          },\r\n          \"esri-labels\": {\r\n            type: \"raster\",\r\n            tiles: [\r\n              \"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}\",\r\n            ],\r\n            tileSize: 256,\r\n          },\r\n        },\r\n        layers: [\r\n          {\r\n            id: \"satellite\",\r\n            type: \"raster\",\r\n            source: \"esri-satellite\",\r\n            minzoom: 0,\r\n            maxzoom: 19,\r\n          },\r\n          {\r\n            id: \"labels\",\r\n            type: \"raster\",\r\n            source: \"esri-labels\",\r\n            minzoom: 0,\r\n            maxzoom: 19,\r\n          },\r\n        ],\r\n      },\r\n      center: [-1, 52.5],\r\n      zoom: 6,\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!map.current || !filteredSchools.length) return;\r\n\r\n    if (map.current.markers) {\r\n      map.current.markers.forEach((m) => m.remove());\r\n    }\r\n    map.current.markers = [];\r\n\r\n    filteredSchools.forEach((school) => {\r\n      const popup = new maplibregl.Popup({ offset: 25 }).setHTML(\r\n        `<strong>${school.name}</strong><br/>\r\n         <b>Rank:</b> ${school.rank}<br/>\r\n         <b>Type:</b> ${school.type}<br/>\r\n         <b>City:</b> ${school.city}<br/>\r\n         <b>Address:</b> ${school.address}<br/>\r\n         <b>Pupils KS4:</b> ${school.pupilsKS4}<br/>\r\n         <b>Pupils Measured:</b> ${school.pupilsMeasured}<br/>\r\n         <b>Progress 8 Score:</b> ${school.progress8Score} (${school.progress8Description})<br/>\r\n         <b>Entering EBacc:</b> ${school.enteringEBacc}<br/>\r\n         <b>Staying in Education:</b> ${school.stayingInEducation}<br/>\r\n         <b>Grade 5+ English & Maths:</b> ${school.grade5Plus}<br/>\r\n         <b>Attainment 8:</b> ${school.attainment8}<br/>\r\n         <b>EBacc Avg Point Score:</b> ${school.ebaccScore}`\r\n      );\r\n\r\n      const marker = new maplibregl.Marker({ color: \"#d33\" })\r\n        .setLngLat([school.lng, school.lat])\r\n        .setPopup(popup)\r\n        .addTo(map.current);\r\n\r\n      map.current.markers.push(marker);\r\n    });\r\n  }, [filteredSchools]);\r\n\r\n  return (\r\n    <div style={{ maxWidth: \"1100px\", margin: \"auto\" }}>\r\n      <h2>UK Schools Map</h2>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          gap: \"1rem\",\r\n          marginBottom: \"1rem\",\r\n        }}\r\n      >\r\n        <div>\r\n          <label>Type:</label>\r\n          <br />\r\n          <select\r\n            value={filterType}\r\n            onChange={(e) => setFilterType(e.target.value)}\r\n          >\r\n            <option value=\"All\">All</option>\r\n            <option value=\"Academy\">Academy</option>\r\n            <option value=\"Independent\">Independent</option>\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>City:</label>\r\n          <br />\r\n          <select\r\n            value={filterCity}\r\n            onChange={(e) => setFilterCity(e.target.value)}\r\n          >\r\n            <option value=\"All\">All</option>\r\n            {uniqueCities.map((city) => (\r\n              <option key={city} value={city}>\r\n                {city}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>School Name:</label>\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            value={searchName}\r\n            onChange={(e) => setSearchName(e.target.value)}\r\n            placeholder=\"Search...\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Grade 5+ English & Maths (%):</label>\r\n          <br />\r\n          <input\r\n            type=\"range\"\r\n            min=\"30\"\r\n            max=\"100\"\r\n            step=\"10\"\r\n            value={grade5Range[1]}\r\n            onChange={(e) => setGrade5Range([30, parseInt(e.target.value)])}\r\n          />\r\n          <div>\r\n            {grade5Range[0]}% to {grade5Range[1]}%\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <label>Pupils KS4 Max:</label>\r\n          <br />\r\n          <input\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max=\"2000\"\r\n            step=\"10\"\r\n            value={pupilsRange[1]}\r\n            onChange={(e) => setPupilsRange([0, parseInt(e.target.value)])}\r\n          />\r\n          <div>\r\n            {pupilsRange[0]} to {pupilsRange[1]}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Rank filter inputs */}\r\n        <div>\r\n          <label>Rank Range:</label>\r\n          <br />\r\n          <input\r\n            type=\"number\"\r\n            min={1}\r\n            max={maxRank}\r\n            value={rankRange[0]}\r\n            onChange={(e) => {\r\n              const val = parseInt(e.target.value) || 1;\r\n              if (val <= rankRange[1]) setRankRange([val, rankRange[1]]);\r\n            }}\r\n            style={{ width: \"60px\", marginRight: \"10px\" }}\r\n          />\r\n          to\r\n          <input\r\n            type=\"number\"\r\n            min={1}\r\n            max={maxRank}\r\n            value={rankRange[1]}\r\n            onChange={(e) => {\r\n              const val = parseInt(e.target.value) || 1;\r\n              if (val >= rankRange[0]) setRankRange([rankRange[0], val]);\r\n            }}\r\n            style={{ width: \"60px\", marginLeft: \"10px\" }}\r\n          />\r\n        </div>\r\n      </div>\r\n      <p><strong>{filteredSchools.length}</strong> schools displayed</p>\r\n      <p>\r\n        <strong>\r\n          {filteredSchools.reduce((total, school) => total + (school.pupilsKS4 || 0), 0)}\r\n        </strong>{\" \"}\r\n        Pupils in the schools displayed\r\n      </p>\r\n      <div\r\n        ref={mapContainer}\r\n        style={{ height: \"600px\", width: \"100%\", borderRadius: \"8px\" }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}