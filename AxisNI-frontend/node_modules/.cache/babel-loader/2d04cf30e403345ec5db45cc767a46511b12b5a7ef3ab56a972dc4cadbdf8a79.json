{"ast":null,"code":"var _jsxFileName = \"C:\\\\Denis_Dev\\\\AxisNI\\\\AxisNI-frontend\\\\src\\\\components\\\\ChartCreator.jsx\",\n  _s = $RefreshSig$();\n// frontend-react/src/components/ChartCreator.jsx\nimport React, { useState } from \"react\";\nimport Highcharts from \"highcharts\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport * as Drilldown from \"highcharts/modules/drilldown\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nDrilldown(Highcharts);\nconst chartTypes = [\"column\", \"line\", \"pie\", \"bar\", \"area\", \"scatter\", \"drilldown\"];\nexport default function ChartCreator({\n  data\n}) {\n  _s();\n  const [chartType, setChartType] = useState(\"column\");\n  const [chartName, setChartName] = useState(\"My Chart\");\n  const [options, setOptions] = useState(null);\n  const [saveStatus, setSaveStatus] = useState(null);\n\n  // Convert your data (array of objects) to Highcharts options here\n  const buildOptions = () => {\n    if (!data || data.length === 0) return;\n\n    // Simple: Use first col as category, second col as value\n    const categories = data.map(row => Object.values(row)[0]);\n    const values = data.map(row => Number(Object.values(row)[1]) || 0);\n    const chartOptions = {\n      chart: {\n        type: chartType\n      },\n      title: {\n        text: chartName\n      },\n      xAxis: {\n        categories\n      },\n      series: [{\n        name: \"Data\",\n        data: values\n      }],\n      drilldown: {\n        series: []\n      }\n    };\n    setOptions(chartOptions);\n  };\n  const handleSave = async () => {\n    if (!options) return;\n    try {\n      setSaveStatus(\"Saving...\");\n      const res = await saveChart(chartName, JSON.stringify(options));\n      setSaveStatus(\"Saved with id: \" + res.data.id);\n    } catch {\n      setSaveStatus(\"Save failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Create Chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: chartName,\n      onChange: e => setChartName(e.target.value),\n      placeholder: \"Chart name\",\n      style: {\n        marginRight: 10\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: chartType,\n      onChange: e => setChartType(e.target.value),\n      style: {\n        marginRight: 10\n      },\n      children: chartTypes.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: t,\n        children: t\n      }, t, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: buildOptions,\n      disabled: !data,\n      children: \"Build Chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSave,\n      disabled: !options,\n      children: \"Save Chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), saveStatus && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: saveStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 22\n    }, this), options && /*#__PURE__*/_jsxDEV(HighchartsReact, {\n      highcharts: Highcharts,\n      options: options\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(ChartCreator, \"2FdS2r7vF6yQGfYknhakmxtTtCk=\");\n_c = ChartCreator;\nvar _c;\n$RefreshReg$(_c, \"ChartCreator\");","map":{"version":3,"names":["React","useState","Highcharts","HighchartsReact","Drilldown","jsxDEV","_jsxDEV","chartTypes","ChartCreator","data","_s","chartType","setChartType","chartName","setChartName","options","setOptions","saveStatus","setSaveStatus","buildOptions","length","categories","map","row","Object","values","Number","chartOptions","chart","type","title","text","xAxis","series","name","drilldown","handleSave","res","saveChart","JSON","stringify","id","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","style","marginRight","t","onClick","disabled","highcharts","_c","$RefreshReg$"],"sources":["C:/Denis_Dev/AxisNI/AxisNI-frontend/src/components/ChartCreator.jsx"],"sourcesContent":["// frontend-react/src/components/ChartCreator.jsx\r\nimport React, { useState } from \"react\";\r\nimport Highcharts from \"highcharts\";\r\nimport HighchartsReact from \"highcharts-react-official\";\r\nimport * as Drilldown from \"highcharts/modules/drilldown\";\r\n\r\nDrilldown(Highcharts);\r\n\r\nconst chartTypes = [\r\n  \"column\",\r\n  \"line\",\r\n  \"pie\",\r\n  \"bar\",\r\n  \"area\",\r\n  \"scatter\",\r\n  \"drilldown\"\r\n];\r\n\r\nexport default function ChartCreator({ data }) {\r\n  const [chartType, setChartType] = useState(\"column\");\r\n  const [chartName, setChartName] = useState(\"My Chart\");\r\n  const [options, setOptions] = useState(null);\r\n  const [saveStatus, setSaveStatus] = useState(null);\r\n\r\n  // Convert your data (array of objects) to Highcharts options here\r\n  const buildOptions = () => {\r\n    if (!data || data.length === 0) return;\r\n\r\n    // Simple: Use first col as category, second col as value\r\n    const categories = data.map((row) => Object.values(row)[0]);\r\n    const values = data.map((row) => Number(Object.values(row)[1]) || 0);\r\n\r\n    const chartOptions = {\r\n      chart: { type: chartType },\r\n      title: { text: chartName },\r\n      xAxis: { categories },\r\n      series: [{ name: \"Data\", data: values }],\r\n      drilldown: { series: [] },\r\n    };\r\n\r\n    setOptions(chartOptions);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!options) return;\r\n    try {\r\n      setSaveStatus(\"Saving...\");\r\n      const res = await saveChart(chartName, JSON.stringify(options));\r\n      setSaveStatus(\"Saved with id: \" + res.data.id);\r\n    } catch {\r\n      setSaveStatus(\"Save failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Create Chart</h3>\r\n      <input\r\n        type=\"text\"\r\n        value={chartName}\r\n        onChange={(e) => setChartName(e.target.value)}\r\n        placeholder=\"Chart name\"\r\n        style={{ marginRight: 10 }}\r\n      />\r\n      <select\r\n        value={chartType}\r\n        onChange={(e) => setChartType(e.target.value)}\r\n        style={{ marginRight: 10 }}\r\n      >\r\n        {chartTypes.map((t) => (\r\n          <option key={t} value={t}>\r\n            {t}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      <button onClick={buildOptions} disabled={!data}>\r\n        Build Chart\r\n      </button>\r\n      <button onClick={handleSave} disabled={!options}>\r\n        Save Chart\r\n      </button>\r\n      {saveStatus && <p>{saveStatus}</p>}\r\n      {options && <HighchartsReact highcharts={Highcharts} options={options} />}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,eAAe,MAAM,2BAA2B;AACvD,OAAO,KAAKC,SAAS,MAAM,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1DF,SAAS,CAACF,UAAU,CAAC;AAErB,MAAMK,UAAU,GAAG,CACjB,QAAQ,EACR,MAAM,EACN,KAAK,EACL,KAAK,EACL,MAAM,EACN,SAAS,EACT,WAAW,CACZ;AAED,eAAe,SAASC,YAAYA,CAAC;EAAEC;AAAK,CAAC,EAAE;EAAAC,EAAA;EAC7C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,QAAQ,CAAC;EACpD,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,UAAU,CAAC;EACtD,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACgB,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;;EAElD;EACA,MAAMkB,YAAY,GAAGA,CAAA,KAAM;IACzB,IAAI,CAACV,IAAI,IAAIA,IAAI,CAACW,MAAM,KAAK,CAAC,EAAE;;IAEhC;IACA,MAAMC,UAAU,GAAGZ,IAAI,CAACa,GAAG,CAAEC,GAAG,IAAKC,MAAM,CAACC,MAAM,CAACF,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3D,MAAME,MAAM,GAAGhB,IAAI,CAACa,GAAG,CAAEC,GAAG,IAAKG,MAAM,CAACF,MAAM,CAACC,MAAM,CAACF,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IAEpE,MAAMI,YAAY,GAAG;MACnBC,KAAK,EAAE;QAAEC,IAAI,EAAElB;MAAU,CAAC;MAC1BmB,KAAK,EAAE;QAAEC,IAAI,EAAElB;MAAU,CAAC;MAC1BmB,KAAK,EAAE;QAAEX;MAAW,CAAC;MACrBY,MAAM,EAAE,CAAC;QAAEC,IAAI,EAAE,MAAM;QAAEzB,IAAI,EAAEgB;MAAO,CAAC,CAAC;MACxCU,SAAS,EAAE;QAAEF,MAAM,EAAE;MAAG;IAC1B,CAAC;IAEDjB,UAAU,CAACW,YAAY,CAAC;EAC1B,CAAC;EAED,MAAMS,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACrB,OAAO,EAAE;IACd,IAAI;MACFG,aAAa,CAAC,WAAW,CAAC;MAC1B,MAAMmB,GAAG,GAAG,MAAMC,SAAS,CAACzB,SAAS,EAAE0B,IAAI,CAACC,SAAS,CAACzB,OAAO,CAAC,CAAC;MAC/DG,aAAa,CAAC,iBAAiB,GAAGmB,GAAG,CAAC5B,IAAI,CAACgC,EAAE,CAAC;IAChD,CAAC,CAAC,MAAM;MACNvB,aAAa,CAAC,aAAa,CAAC;IAC9B;EACF,CAAC;EAED,oBACEZ,OAAA;IAAAoC,QAAA,gBACEpC,OAAA;MAAAoC,QAAA,EAAI;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACrBxC,OAAA;MACEuB,IAAI,EAAC,MAAM;MACXkB,KAAK,EAAElC,SAAU;MACjBmC,QAAQ,EAAGC,CAAC,IAAKnC,YAAY,CAACmC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAC9CI,WAAW,EAAC,YAAY;MACxBC,KAAK,EAAE;QAAEC,WAAW,EAAE;MAAG;IAAE;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5B,CAAC,eACFxC,OAAA;MACEyC,KAAK,EAAEpC,SAAU;MACjBqC,QAAQ,EAAGC,CAAC,IAAKrC,YAAY,CAACqC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAC9CK,KAAK,EAAE;QAAEC,WAAW,EAAE;MAAG,CAAE;MAAAX,QAAA,EAE1BnC,UAAU,CAACe,GAAG,CAAEgC,CAAC,iBAChBhD,OAAA;QAAgByC,KAAK,EAAEO,CAAE;QAAAZ,QAAA,EACtBY;MAAC,GADSA,CAAC;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEN,CACT;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,eACTxC,OAAA;MAAQiD,OAAO,EAAEpC,YAAa;MAACqC,QAAQ,EAAE,CAAC/C,IAAK;MAAAiC,QAAA,EAAC;IAEhD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACTxC,OAAA;MAAQiD,OAAO,EAAEnB,UAAW;MAACoB,QAAQ,EAAE,CAACzC,OAAQ;MAAA2B,QAAA,EAAC;IAEjD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EACR7B,UAAU,iBAAIX,OAAA;MAAAoC,QAAA,EAAIzB;IAAU;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACjC/B,OAAO,iBAAIT,OAAA,CAACH,eAAe;MAACsD,UAAU,EAAEvD,UAAW;MAACa,OAAO,EAAEA;IAAQ;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtE,CAAC;AAEV;AAACpC,EAAA,CAnEuBF,YAAY;AAAAkD,EAAA,GAAZlD,YAAY;AAAA,IAAAkD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}